# 지갑 구성 및 지갑의 역할 

    - 기본적인 역할
        - 암호화폐를 안전하게 보관할 수 있음. 
        - 암호화폐를 전달하거나, 받을 수 있음. 

    - 지갑의 역할
        - 자산의 소유권을 암호화 방식으로 증명 
        - 지갑의 개인키를 사용해서, 거래의 서명을 검증하고, 본인의 자산을 관리할 수 있음. 
        - '개인키' 는 누군가에게 공개하면 안 되는 키. 
            - 이 사람이 진짜로 했는지를 검증 
            - ex) 영수증 같이, 이 사람이 진짜로 샀구나 하는 -> 이것도 서명으로 관리되고 있음.
            - 다른 사람에게 절대로 공개되면 안 되는 키 임 
            - 본인의 자산을 안전하게 관리할 수 있게! 

        - 본인의 암호화폐 보유량을 확인할 수 있음. 
        - 지갑의 거래 내역 확인 가능
        - 복구 문구를 사용해서, 지갑 복원 가능 
            - 메타마스크를 사용
            - (복구 문구를 가지고, 특정 알고리즘을 거쳐서, 개인키를 추출)


    ## 금융 
        - 금융 쪽에서는, 장부를 가지고, 모든 거래내역을 기록하는 방식
        - 은행 이라는 금융 기관은, 장부에 거래 내역을 의존할 수 밖에 없는 중앙 집권 방식
            - 그 장부에 있는 거래 내역이 사실이니까
            - 장부에 모든 기록을 하는 시스템임! 

    ## 우리는 분산원장임 
        - 분산원장은 금융 쪽과 반대로, 거래에 참여하는 모든 참여자가 '장부' 를 갖고 있음. 
        - 거래가 발생했을 때, 해당 거래 내역을, ⭐'각자의 장부에 기록'⭐ 하는 방식
        - 중앙에서 갖고 있는게 아니라, 모두 갖고 있음. 모두 갖고 관리한다. 
        - 거래 내역들이 모두 '트랜잭션' 으로 기록되어 있음. 
        - 거래 되었을 때, 각자의 것에 저장되는 방식 



    # 신원 인증 방식 
        - 분장 원장 기술로 개인키, 공개키, 서명(영수증) 
        - 누가 누구에게 보냈다! 라는 거를 하기 위해서 암호화

        ## 암호화 방식 
            - 대칭형
                - 암호화, 복호화 할 때, '사용하는 키가 동일' 함. 키가 1개로 사용됨 
                - 동일한 키로 암호화, 동일한 키로 복호화 
                - 암호화 한 사람과, 수신한 사람이 같은 키를 사용 한다. 
                - ex) 로그인 - 패스워드 할 때 
            - 비대칭형 
                - 암호화 할 때 쓰는 키와, 복호화 할 때 쓰는 키가 다름 
                - 키를 2개 사용 함. 
                - 다른 사람에게 공개 되어서는 절대 안 되는! 비밀키! 개인키! ⭐⭐⭐⭐⭐ 를 토대로 만든, 공개키
                - 한쌍임 
                    - 즉, 비밀키로 공개키를 만드는데, 공개키로 암호화를 시키고, 비밀키로 해독 
                    - 공개키로 암호화 , 비밀키로 해독 ⭐⭐⭐
                - 한쌍에 키가 2개 있음. 공개키로 암호화. 비밀키로 검증함(복호화)⭐⭐⭐

        ## 대칭형
            - 나 -> 원본 데이터 -> 대칭형으로 원본 암호화 -> 암호문이 나옴 
            - 수신한 사람 = 너 => 암호문을 받고 -> 대칭키를 사용해서 암호문을 복호화 -> 원본을 얻음 
            - 대칭형의 형태는, 암호문을 대칭키를 갖고 있는 사람은, 누구나 전달이 가능
                - 대칭키가 있으면, ⭐누구나 암호문을, 확인할 수 있음. ⭐⭐

        ## 비대칭형
            - 암호화 할 때, 공개키로 암호화 
            - 나 -> 내가 전달하고 싶은 원본을 '상대방의 공개키(⭐남들에게 공개 되어 있음⭐)' 로 암호화 -> 그러면, 암호가 생김
            - 상대방은 암호문을 받음 -> 본인의 개인키(비밀키) 로 복호화 -> 그러면, '⭐원본⭐' 이 나옴. 
            - 암호키는 공개키여서 누구나 암호로 만들 수 있음. 다만, 해독은 비밀키니까, 아무나 못 함. ⭐⭐⭐


    # 지갑의 공개키와 비밀키

        - 공개키 
            - 사람들에게 공개할 키 정보를 암호화 할 때 사용 

        - 비밀키 
            - 본인만 알고 있어야 하는 키. 암호문을 복호화 할 때 사용.
            - 암호를 풀 수 있는 키


    # 비밀키와 공개키의 역할 
        - 비밀키 소유자가, 비밀키로, 데이터를 암호화 하고 / 공개키를 같이 전달함. 
        - 공개키와 데이터암호문을 받은 사람은, 공개키를 이용해서, 검증이 가능 ❓❓❓
            - '검증' : 실제로 이 서명을 한 사람인지를 확인 ⭐⭐⭐
        - 위험성이 있는, 이 방법을 사용하는 이유
            - 데이터의 보호 목적 보다는, 
            - 공개키 데이터를 제공한 사람의 신원을 보장해주기 위해서 ⭐⭐⭐⭐⭐⭐⭐ 
            - 이 사람이 진짜 했는지 검증!!! ⭐⭐ 하는게 제일 중요 ⭐⭐⭐ 
            - 그런데, 실제로 안전한 방법임 
            - 암호화된 데이터가 공개키로 복호화 된다는 것이 공개키와 쌍으로 이루는 비밀키에 의해서, 암호화가 되었다는 뜻. ❓❓❓ 
            - 데이터의 제공자가 맞는지, 서명을 한 사람인지를 검증 ❓❓❓ 
            - 이 사람이 진짜 서명한거냐❓❓❓  를 검증 

        - 이 방법이, 공인인증체계, 의 기본 바탕, 전자 서명⭐⭐⭐


    # 개인키 
        - 실제 블록 체인 네트워크에, 개인키를 생성하는 방식은,  
        - 2진수로 랜덤값을 64자리의 16진수 값으로 만든게 개인키 

        - 만약, 개인키가 겹칠 수 있나요? 
            - 겹칠 수는 있음. 불가능 한건 아님 ⭐⭐⭐ 
            - 다만, 확률이 (천문학적으로) 굉장히 낮음. -> 그래서, '무시' 를 하고 있음. 
            - 겹칠 수 있는 확률이, 개인키의 경우의 수는, 2^256 개의 개인키(지구상 전쳊 원자수 보다 많음.) -> 그래서, 겹칠 수 있지만, 확률이 낮기 때문에 겹칠 수 없음. 
            - 확률이 낮기에, 이 부분에서 해결책을 따로 내고 있지는 않는 상황 

    # 순서 
        1. 암호화 하고 싶은 데이터를 sha 256방식을 헤싱하고, 
        2. 개인키를 사용해서, 해시값으로, 서명 
            - 그러면, 내가 이 서명한 사람이 맞아! 
            - 개인키는 볼펜이고, 내가 직접 서명을 했어! 

        3. 서명과 개인키는 제 3자에게 전달. / 받은 제3자는 공개키를 이용해서 서명 검증 
        
        ❓❓❓ 개인키는 암호를 풀 때 쓰는거 아닌가? 서명에서 갑자기 왜 나오지? -> 개인키가 아니라, 공개키 인거지? 
        ❓❓❓ 개인키는 함부로 공개되면, 안 된다고 하지 않았나? 그런데 왜 제 3자에게 전달? -> 개인키가 아니라, 공개키 인거지? 



    # 개인키와 공개키 한쌍을 생성할 때, 'ECC 타운 곡선' 을사용
        - 타원 곡선 수학을 기반으로 디지털 서명을 보호하기 위해 사용하는 암호화 기술 
        - 공개키와 개인키의 개념이 포홤되어 있고 
        - 공개키는 ✅ 암호화와, 서명 검증에 쓰이고, 
        - 개인키는 ✅ 복호화 서명을 만들 때, 사용된다. 

        - ✅ 디지털 서명은 본인이 개인키로 메시지로 서명할 수 있고, -> 서명한다는게 = 자신의 개인키를 넣는건가? ❓❓❓ 개인키를 넣어서, hash 값을 뽑는건가? 왜냐면, 개인키를 알려주면 안 되잖아
        - ✅ 공개키는 받은 사람은 누구나 서명을 확인할 수 있음. -> 확인한다는게 , 구체적으로 뭘 본다는 거지? ❓❓❓

        - 쉽게 말해서, 암호화 및 해독에 사용

        - 다른 사람의 공개키로, 암호화 해서, 전달하면, 그 사람의 개인키로만 복호화가 가능
        당사자 끼리의 데이터 기밀성 보장 ⭐⭐

        - 디지털 서명을 본인의 개인키로 생성하고, 다른 사람에게 전달해서, 공개키와 함께 서명을 검증할 수 있는 무결성 보장 ⭐⭐⭐⭐⭐⭐⭐
            -> 본인의 개인키로 구체적으로 어떻게 디지털 서명을 생성해?
            -> 그렇게 해서 나온 서명이라는게 대체 뭐야?  
            -> 서명을 그러면, 구체적으로 어떻게 검증해? 

        - 장점 
            - 당사자 끼리의 데이터 기밀이 정의 
            - 공개키와 같이 줬을 때
            

        - 타운 곡선 수학은 어려운 수학문제. 이산대수 뭐시기 문제. 

        - 수학 개념만 알고 가면 됨
            - y^2 = x^3 + ax + b 
                - 물고기 처럼 그려지고 -> 기준점 만 모두가 알고 있어야 함
                - 이 방정식에 만족하는 곡선을 그림
                - 기준점을 하나 잡고 -> 
                - 포인트는 역산이 힘들다. 즉, 개인키로, 역산이 힘들다! ⭐⭐⭐ 라는 거  
                - 즉, 
                    - '기준점' 이 있고, '기준점' 에서 '개인키' 를 가지고 '공개키' 를 구함 (타운 곡선 그래프)
                    - 이때, 기준점과 공개키로, 개인키를 역산하기 힘듦! ⭐⭐⭐