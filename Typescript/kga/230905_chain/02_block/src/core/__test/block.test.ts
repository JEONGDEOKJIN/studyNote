
// ì—¬ê¸°ì— TDD ì‘ì„± 
// í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±í•˜ê³  -> ê·¸ ë‹¤ìŒ ê°œë°œ 
// í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±í•˜ê³ , ì‹¤í–‰ì‹œí‚¤ëŠ” ê±´, JEST ! (í˜ì´ìŠ¤ë¶ì—ì„œ ë§Œë“¦)


// í…ŒìŠ¤íŠ¸ë¥¼ ë‹¨ìœ„ë³„ë¡œ ìª¼ê°œì„œ, ì§„í–‰í•  ìˆ˜ ìˆìŒ. 
// ê·¸ë£¹ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë©´, ì½”ë“œ í’ˆì§ˆì„ ì˜¬ë¦´ ìˆ˜ ìˆìŒ. 

// í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´, ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ê¸´ í•˜ì§€ë§Œ, ì½”ë“œì˜ í’ˆì§ˆì„ ì¢€ ë” ì˜¬ë¦´ ìˆ˜ ìˆë‹¤. 
    // ë‹¨ìœ„ë³„ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë‹ˆê¹Œ, ë””ë²„ê¹…ì„ í•˜ê³ , ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—

// ë‹¨ìœ„ê°€ ì§„í–‰ë  ë•Œ 
    // 1ë‹¨ê³„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê³  
    // ê·¸ ë’¤ì— 2ë‹¨ê³„ ì½”ë“œë¥¼ ì‹¤í–‰í•œë‹¤. 
    // ì´ë ‡ê²Œ ì ˆì°¨ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³¼ ìˆ˜ ìˆë‹¤. 
    // ex) ìœ„ì—ì„œ ë¡œê·¸ì¸ -> ë‚´ë ¤ê°„ë‹¤. 


import { Block } from '@core/block/block';
import { GENESIS } from '@core/config';
// import Block from ''

// ì´ ë…€ì„ìœ¼ë¡œ, í…ŒìŠ¤íŠ¸ë“¤ì˜ ê·¸ë£¹í™”! ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŒ!
    // describe("block í…ŒìŠ¤íŠ¸ ì½”ë“œ ê·¸ë£¹" , () => {
    //     // í…ŒìŠ¤íŠ¸ë“¤ì˜ ë‹¨ìœ„ë¥¼ ì–´ë–»ê²Œ ì‘ì„±í•˜ëŠ”ê°€! 
    //     // í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ ë‹¨ìœ„
    //         // ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì—ëŠ” í…ŒìŠ¤íŠ¸ ì´ë¦„ 
    //         // ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” í…ŒìŠ¤íŠ¸ì˜ ë™ì‘ì„ ê°€ì§€ê³  ìˆëŠ” ì½œë°±í•¨ìˆ˜
    //     it("ì œë„¤ì‹œìŠ¤ ë¸”ë¡ í…ŒìŠ¤íŠ¸" , () => {
    //         console.log(GENESIS);
    //         // console.log(GENESIS);
    //     })
    //         // ì´ê±° ëë‚˜ë©´ ğŸ‘‡ë°‘ìœ¼ë¡œ ê°€ë©´ì„œ í…ŒìŠ¤íŠ¸ í•˜ê³  -> ê·¸ ë‹¤ìŒì— ë°‘ì— í…ŒìŠ¤íŠ¸ í•˜ê³  

    //     it("ì˜¤ë¥˜ í…ŒìŠ¤íŠ¸" , () => {
    //         // ë§Œì•½, ì˜¤ë¥˜ê°€ ìƒê¸°ë©´, ì—¬ê¸°ì— ì¡í ê²ƒ! â­â­â­
    //             // console.log(GENESIS2)
    //     } )

    //     // ë¸”ë¡ì„ ê²€ì¦í•˜ëŠ” ì½”ë“œ 




    // })
        // ì´ ì½”ë“œë“¤ì—ëŠ” ë¸”ë¡ ê²€ì¦ ì½”ë“œê°€ ìˆìŠµë‹ˆë‹¤~ ì´ë ‡ê²Œ
        // ì´ ê·¸ë£¹ì— ëŒ€í•œ ì„¤ëª…ì„ string ìœ¼ë¡œ ì‘ì„± 

        // ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ : ê·¸ë£¹ëª…. ì–´ë–¤ í…ŒìŠ¤íŠ¸ ê·¸ë£¹ì¸ì§€! 
        // ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ : í…ŒìŠ¤íŠ¸ë“¤ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ì½œë°±í•¨ìˆ˜! 



// describe : í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ê·¸ë£¹ ë‹¨ìœ„
    // ì´ì œ block ì„ 'ê²€ì¦' í•˜ëŠ” ì½”ë“œ ë§Œë“¤ê¸° 
    describe("block ê²€ì¦" , () => {

        let newBlock : Block;
        let newBlock2 : Block;
        
        // í…ŒìŠ¤íŠ¸í•  ì½”ë“œì˜ ìµœì†Œ ë‹¨ìœ„
        it("ë¸”ë¡ ì¶”ê°€" , () => {
            const data = ["Block 1"];
            newBlock = Block.generateBlock(GENESIS, data)

            // ë¸”ë¡ì˜ ë‚œì´ë„ì— ë”°ë¥¸ ë§ˆì´ë‹ì„ ë™ì‘í•´ì„œ, ì¡°ê±´ì— ë§ì„ ë•Œ ê¹Œì§€, ì—°ì‚°ì„ ë°˜ë³µí•œ ë’¤, 
            // ìƒì„±ëœ ë¸”ë¡ì„, newBlockì— ë°›ì•„ì˜¨ë‹¤. 
            // ì´ì „ ë¸”ë¡ì€ GENESIS(ìµœì´ˆë¸”ë¡)
            console.log(newBlock);
            

            // ìƒˆë¡œìš´ ë°ì´í„° 
            const data2 = ["Block2"]

            newBlock2 = Block.generateBlock(newBlock , data2);
            console.log(newBlock2)

        } )

        it("ë¸”ë¡ ìœ íš¨ì„± ê²€ì¦. ì´ ë¸”ë¡ì´ ì •ìƒì ì¸ì´ ê²€ì¦" , () => {
            const isValidNewBlock = Block.isValidNewBlock(newBlock, GENESIS)    // ğŸ”µ ì‘ë™í•¨ 
            // const isValidNewBlock = Block.isValidNewBlock(newBlock2, GENESIS)    // ë¯¸ì‘ë™. ì™œëƒë©´, newBlock2 ë¼ëŠ” í‹€ë¦° ë°ì´í„°ë¥¼ ë„£ì—ˆê¸° ë•Œë¬¸ì—  ğŸ˜¥
            if(isValidNewBlock.isError){
                // ì¦‰, ì„±ê³µí•œ ê²°ê³¼ê°€ ë§ëŠ”ì§€ í™•ì¸í•  ë•Œ ì“°ëŠ” ì½”ë“œ  
                return expect(true).toBe(false);
                    // expect : toBe ê°’ì´ ë§ëŠ”ì§€ í™•ì¸í•  ë•Œ, ì‚¬ìš©í•˜ëŠ” ì½”ë“œ
            }

            expect(isValidNewBlock.isError).toBe(false);
                /*
                    if(isValidNewBlock.isError){
                     // ì¦‰, ì„±ê³µí•œ ê²°ê³¼ê°€ ë§ëŠ”ì§€ í™•ì¸í•  ë•Œ ì“°ëŠ” ì½”ë“œ  
                        return expect(true).toBe(false);
                    expect : toBe ê°’ì´ ë§ëŠ”ì§€ í™•ì¸í•  ë•Œ, ì‚¬ìš©í•˜ëŠ” ì½”ë“œ
                    ì´ì „ ë¸”ë¡ì¸ new ë¸”ë¡ì„ ì“°ë©´ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í†µí™”í•  ê²ƒ 
                }
                */


        })


        
    }  )