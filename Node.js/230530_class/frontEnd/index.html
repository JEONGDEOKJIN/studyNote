<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- axios ë¡œ ì˜ˆì „ì— ì“°ë˜ form íƒœê·¸ ëŒ€ì‹  ì „ì†¡â­â­â­ -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>
<body>
    
    <!-- <form action="">
        <input type="text" name="name">
    </form> -->

    <input type="text" id="imgs">

    <input type="file" id="file">
    <button id="uploadBtn">ì „ì†¡</button>

    <!-- ì´ê±´ ìž„ì˜ë¡œ ì ì€ê±°ìž„ ðŸ˜¥ðŸ˜¥ðŸ˜¥ðŸ˜¥ðŸ˜¥ -->
    <img src="http://localhost:8002/img/ad5191be-fea8-4398-b6a9-2d7e86c0e77c_1685421564518.jpg" alt="">
        <!-- âœ… ì´ê±´, íŒŒì¼ì´ ì˜¬ë¼ê°€ë©´, ë³µë¶™í•´ì„œ ë„£ê²Œ ë¨  -->

        <!-- imp ë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´ upload ê¹Œì§€ ë“¤ì–´ê°€ê³  > img ì´ë¦„ë§Œ ë“¤ì–´ê°€ë©´ > ì„œë²„ì— ìžˆëŠ” ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™€ì„œ í”„ë¡ íŠ¸ì— ë³´ì—¬ì£¼ëŠ” ê²ƒ â­â­â­ -->

        <!-- 1) íŒŒì¼ ì €ìž¥ 2) ì—…ë¡œë“œì— ê°€ì ¸ì˜¤ê³  3) í”„ë¡ íŠ¸ì—ì„œ src ë¡œ ë¶ˆëŸ¬ì˜¤ë©´ > ë³¼ ìˆ˜ ìžˆì–´?  -->
        <!-- í´ë”ì— ì´ë¯¸ì§€ ì—…ë¡œë“œ í•˜ê³  > í´ë” íƒ€ê³  ë“¤ì–´ê°€ë©´ > ì´ë¯¸ì§€ê°€ ë³´ì¼ ìˆ˜ ìžˆê²Œ ëœ ê²ƒ  -->

        <!-- https://s.pstatic.net/shopping.phinf/20230523_4/4e15cf13-dce3-448d-96af-55ddd98f75b5.jpg?type=f500
                ì„œë²„ ì»´í„°ì— ì´ë¯¸ì§€ê°€ ìžˆëŠ” ìƒíƒœìž„
            
            backEnd - uploads ì— ì´ë¯¸ì§€ ì €ìž¥í•˜ê³  > ì´ë¯¸ì§€ ê²½ë¡œë¥¼ ì„¤ì • -->



</body>

    <script>

        // form ë°ì´í„°ë¥¼ ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ > axios ë¡œ ë³´ë‚´ê¸° 
        uploadBtn.onclick = () => {
            // form ë°ì´í„°ë¥¼ ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ, í¼ì˜ ë°ì´í„° í˜•ì‹ìœ¼ë¡œ ë³´ë‚´ìž
            // ìžë°”ìŠ¤í¬ë¦½íŠ¸, ë‚´ìž¥ ê°ì²´ë¥¼ ì“¸ ê²ƒ ìž„
            // new FormData : form ë°ì´í„°ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„± 
            const form = new FormData();
            
            // html ìƒì—ì„œ nameìœ¼ë¡œ í‚¤ ê°’ì„ ì „ë‹¬í•˜ë˜ ë¶€ë¶„ 
            // append ë©”ì„œë“œë¡œ ì„¤ì •. 
            // ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ ê°€ í‚¤ 
            // ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ê°€ ê°’
            // form.append("name"  , input01.value);
                form.append("imgs" , imgs.value);

            // ì¸í’‹ì— íŒŒì¼ ë‚´ìš©ì„ ì–´ë–»ê²Œ ê°€ì ¸ì˜¤ë‚˜
                console.log(file.files[0])
                // input ì— ë“¤ì–´ìžˆëŠ” íŒŒì¼ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìžˆë‹¤. â“â“â“â“â“â“â“â“â“â“â“â“â“â“â“
                
                form.append("upload" , file.files[0]); 
                    // file ì€ input íƒœê·¸ì— ë‹´ê¸´ file ì˜ ë‚´ìš©

            // axios ë¡œ ì „ì†¡ 
                axios.post("http://127.0.0.1:8002/upload" , form , {
                    // ì „ë‹¬í•  ë°ì´í„° form ì„ ì ëŠ”ë‹¤.
                    // ë³´ë‚¼ ë•Œ, íŒŒì¼ì´ í¬í•¨ë˜ì–´ ìžˆìœ¼ë©´, íŒŒì¼ì´ í¼ë°ì´í„°ë¡œ ì „ì†¡í•œë‹¤ê³  ì„¤ì •
                    // í—¤ë”ì˜ ë‚´ìš©ìœ¼ë¡œ, ì¸ì½”ë”©ëœ, í¼ ë°ì´í„°ë¡œ ì „ì†¡í•œë‹¤ê³  ì„¤ì •
                    "Content-Type" : "multipart/form-data" 
                        // ì¸ì½”ë”©ëœ í¼ ë°ì´í„°ë¥¼ í—¤ë”ì˜ ë‚´ìš©ì„ í¬í•¨í•´ì„œ ì „ì†¡}
                }).then( (e)=> {
                    console.log("ìž˜ ì „ë‹¬ë¨")
                    console.log(e.data)
                }).catch((err) => {
                    console.log(err)
                })

        }

    </script>





</html>