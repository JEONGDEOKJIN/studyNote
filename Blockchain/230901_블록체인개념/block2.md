## 비트코인 백서 
    - 비트코인은 '개인 대 개인' 전자 화폐 시스템. 
    - P2P 로 직접 거래를 제안한다. 
    - 개인과 개인 간 전자 화폐 송금 시스템을 제안.

    - satoshi Nakamoto(사토시 나카모토)
        - 개발자 이기 전에, 경제학으로도 지식을 갖고 있었을 것 으로 추측됨 

## 개인 대 개인 거래 
    - 개인 대 개인 버전 전화 화폐는 금융기관을 거치지 않고, 한 쪽에서 다른 쪽으로 직접 전달되는 온라인 결제를 실현 한다. 
    - 우리가 사용하는 금융 시스템은 금융기관을 통해서만, 한쪽에서 다른 쪽으로 전달되는 온라인 지불
    - 돈을 직접 전달하려면, 오프라인에서, 만나서, 직접, 현금을 주는 방법이 있는데, 온라인 상에서는, 개인과 개인간 구축된 시스템(은행) 을 거치지 않는 이상, 존재하지 않음. 
    - 비트코인은 어떤 중앙 기관없이, 내가 가진 자산을, 다른 사람에게, 직접 전달, 할 수 있는, 시스템을 구현 한다고 보면 된다. 


### 개인 대 개인 거래 문제점 해결 
    - 중앙 거래 시스템 사용 이유는? 
        - 누가 누구에게 돈을 보냈다! 라는 기록이 남아서 
        - 그래서, 이중 지불, 같은 이슈를 막을 수 있음. 
        - 이중 지불 같은걸 막기 위해서 ⭐'신뢰할 수 있는 제3자'⭐ 가 필요. 
        - 이중 지불 문제를 해결하기 위해, 중앙 기관이 그 역할을 함. 
        - 중앙 기관 없이 이중 지불을 막기 위해 1) 블록 타임 스탬프(생성 시간) 을 기록하고 2) 거래 내용을 암호화(해싱) 하고 3) 해시 기반 작업 증명을 '사슬' 로 연결해서, 작업 증명을 재수행 하지 않으면, '변경할 수 없는 기록' 을 만든다. 
            - 블록 체인 이라는 용어가 여기서 나온다. 
            - '연결한 사슬' 이라는 것이, 블록들이 타임스탬프를 기록하고, 데이터의 위변조 없이, 안전한 데이터 해시 기반 작업을 증명한다. 
        - 이전 해시, 이전 해시를 갖고 있음. 중간에 바뀌면, 검증을 다시 함. 이 시간을 따라가지 못 하기 때문에, 수정할 수 없는 데이터 임. 😥😥😥😥😥😥 

        - 즉, 우리의 거래는 수정할 수 없어. 믿을 수 있어. 라는 말. 

### 어떤 장부가 맞는지를 '서로 검증' 하는 법
    - 가장 긴 사슬, 을 갖고 있는 사람 = longest chain rule 
    - 개인 대 개인 간 네트워크 이고, 중앙 기관 없이, 체인이 여러개로 나뉘어질 텐데, ⭐가장 긴 체인을 선택⭐해서, 하나의 체인을 유지할 수 있는 기반을 만들어놓은 것. 
    - 즉, ⭐가장 긴 체인⭐ 이 정답임! ⭐⭐ 


### 비트코인이 왜 생겼나 
    - 사토시 나카모토, 가, 2008년, 금융 위기를 보면서, 현재, 우리가 신뢰하는, 중앙 기관이, 실제로는, 신뢰하기 힘들어려운 기관이라 생각했음. -> 그래서, 탈중앙화, 비트코인을 제안하게 되었음. 
    - genesis block 에 적혀 있음 


### block chain 의 4대 요소 기술 
    
#### 1. 블록과 트랜잭션 
    - 트랜잭션은 사용자의 송금 내역이 있고, 송금 내역들을 하나의 블록에 포함시켜야만, 안정성을 보장할 수 있는 기반을 만들 수 있다. 
    - 그 블록들이 해시 알고리즘과 블록채굴(POW, POS, POA)
        - 지분 증명 : 가지고 있는 블록을 예치 (POS)
        - 권위 증명 : 중앙화가 있다. (POA)
        - 작업 증명 : 연산을 빨리 한 사람이 보상을 받는다. (POW) -> 비트코인은 이 POW 형태로 만들어진다. 

#### 2. 분산 네트워크 
    - 사용자들이 원할 때, 언제든, 네트워크에 참여할 수 있고, 나갈 수 있음. 

#### 3. 암호화 
    - 거래가 위변조 되지 않았다고, '증명' 할 수 있다. 

#### 4. 합의 알고리즘 
    - 분산 네트워크에서, 중앙화된 기관이 없으니까, 하나의 longest chain 을 구성하는 것이 매우 중요하고, 
    - 분산화된 네트워크에서, 모든 사용자들이, 납득할 수 있는, 하나의 거래 내역이 필요한데, 이걸 하나로 정리해준 것이, 합의 알고리즘, 이다. 


### 블록의 구성 
    - 블록은 특정 정보를 담아놓은 '객체' 임. 
    - 블록을 생성할 때, 'header 부분' 과 'body' 를 나눠서 생성하지 않고 
        - (여기를 header 라고 치자, body 라고 치자 라고, 이해를 쉽게 하기 위해서 나눈 것 뿐 임. )

#### 1) 블록의 헤더 
    - 버전 정보가 있음. 
    - 이전 블록의 해시값. 
    - 이게 몇 번째 블록인건지에 대한 정보 (이게 블록의 높이(height)! 라고 칭함)
    - 블록의 생성 시간 정보 (time stamp) (언제 생긴건지)
    - 블록의 해시 
    - 블록의 body 의 내용을 해싱한 값 (머클 루트)
        - 여러가지 값이 있을 태, 트리 구조로 해싱하는 것 
    - 채굴의 난이도 
        - 연산한 값이, 결과가, 앞에 0 이 몇개 붙느냐! 
        - 0 이 5개 '이상' 이면, 채굴할 수 있음. 
        - 0 의 개수가 맞을 때 까지, 계속 돌린다.
        - 난이도가 증가하는 시기 = 블록의 생성 시간을 보고, 블록이 너무 빠르다 라고 한다면, 난이도를 높인다. ✅✅ (이 부분 때문에 경제학적 지식이 있었을 것 이라고 말함)
            - 난이도 조절해서 -> 블록 생성 시간을 컨트롤 한다 
        - 블록이 느리게 생성되면 -> 난이도 하락 
    - 논스 = 블록을 채굴하기 위해서, 연산 작업을 몇 번 반복했는가! 


### 블록의 body 
    - 블록에 저장할 데이터 (트랜잭션 내용)


### -------------------------------------------


### 작업 증명 (POW, proof of work)
    - 비트코인은 POW 를 사용하고 있음. 
    - 비트코인의 '합의 알고리즘'
    - '합의 알고리즘' 이란, 최초의 합의 알고리즘 임. 
    - 연산, 계산 작업을 기반으로 합의 
    - 새로운 블록을 블록체인에 추가 하려면, 난이도에 따른 값을 찾는, 반복작업을 해야 한다. 
    - 그 작업을 완료 했다는 작업의 증명 방식. 
    
    - 컴퓨팅 자원 -> 높은 에너지 소비, 환경 오염


### 지분 증명 (POS , proof of stake)
    - 담보 같은 느낌. 
    - 보상을 받기 위해, 암호화 토큰을 staking(예치) 하고, 
    - 예치한 양을 퍼센트로 가져와서, 
    - 예치한 양에 비례한 퍼센트로 채굴 권한을 받는다. 
    - 확률은 staking 한 토큰의 양에 비례 한다. 

    - 팀 단위로, 네트워크 방해하면, 결함이 있게 됨. 
    - 비잔틴 결함의 이론적 위험이 있음. 
        - 팀을 구성해서, 네트워크를 방해하는 경우. 

    - 전력 소비를 줄일 수 있다. 


### 권위 증명 (POA, proof of Authority)
    - 권위 증명 
    - 방식은 권위 있는 기관에서, 조건에 맞는 노드를 증명해서, 이들간의 합의를 이루는 방식
    - ex) 두나무 블록체인 서비스, DBS 는 권위증명방식을 사용한다. 
    - 네트워크에 참여한 멤버들에게, 네트워크 운영에 참여할 권리를 주고, 전원이 해당 권한을 위임해 투표하는 방식으로 진행. 


### 블록체인 거래 정보 변경이 불가능한 이유 
- 블록의 머클루트 계산에, 이전 블록의 해시가 포함되어 있기 때문에, 
- 하나의 블록이 변경되면, 변경된 블록부터, 다음 블록들의 해시 변경으로 이루어지기 때문에, 
- 거래 정보가 변경이 되면 => 머클 루트가 변경되고 => 해시 변경 => 끊겨버린 사슬 
- 블록의 거래 정보를 변경하기 위해서, 거래 정보를 변경한 블록부터, 이후의 블록을 순서대로, 다시, 채굴 진행해야 하기 때문에, 그 동안 블록도 생성되고 있고, 양자 컴퓨터가 개발되기 전에는, 현실적으로 불가능하다고 보여짐. 



