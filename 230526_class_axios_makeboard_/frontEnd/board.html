<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- ‚≠ê‚≠ê axios ‚≠ê‚≠ê -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>
<body>


    <div>
        <span> Ïù¥Î¶Ñ : </span>
        <span id="user_name"> </span>
        <!-- [Ìï¥ÏÑù]
                - spanÏù¥ inline block Ïù∏Í∞Ä? Í∑∏ÎûòÏÑú ÏòÜÏóê Î∂ôÏúºÎ†§ÎÇò? 
                - 'Îç∞Ïù¥ÌÑ∞Î•º ÎÑ£Ïñ¥Ï§Ñ Î∂ÄÎ∂Ñ' Ïóê Ïñ¥Îñ§ Ï≤òÎ¶¨Î•º ÌïòÎäîÍ∞Ä! ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
                    - Ïó¨Í∏∞ÏóêÏÑúÎäî ‚≠ê‚≠ê‚≠ê Ïù¥ 3Îã®Í≥ÑÎ•º Ïûò ÌôïÏù∏Ìï¥Î≥¥Ïûê  
                        1) Ìï¥Îãπ ÌÉúÍ∑∏Î•º ÎπÑÏö∞Í≥† 
                        2) Ìï¥Îãπ ÌÉúÍ∑∏Ïóê id Î•º Í∏∞ÏûÖÌï¥ÏÑú, js ÏóêÏÑú Î∞îÎ°ú Î≥ÄÏàòÎ°ú Ïì∏ Ïàò ÏûàÍ≤å ÌïòÍ≥† 
                        3) innerHTML Î°ú Ï±ÑÏö¥Îã§. ‚≠ê‚≠ê‚≠ê‚≠ê 
            -->
    </div>

    <ul>
        <li id="msg_list">
            <p> ÏûëÏÑ±ÎÇ¥Ïö© : <span id="user_msg"> </span>  
            </p>
        </li>
    </ul>



</body>

<script>

    console.log("üò∫üò∫üò∫üò∫üò∫üò∫üò∫üò∫üò∫üò∫üò∫üò∫üò∫üò∫üò∫")
    
    async function getAPI() {
        console.log("api Ìï®Ïàò Ï≤´ ÏãúÏûë üì±üì±üì±üì±üì±üì±üì±üì±üì±üì±üì± ")
        const id = 1;
        
        try {            
            // 1. data Í∞ÄÏ†∏Ïò§Í∏∞ from sql 
            const response = await axios.get(`http://127.0.0.1:8007/board/view/${id}` , {
                withCredentials : true
            });

            const {data} = response.data

            // [ÏßàÎ¨∏ or Ïï†Îß§Ìïú Í≤É]
                // http://127.0.0.1:8007 Ïù¥Í±¥ Ïñ¥ÎîîÏóêÏÑú ÏÑ§Ï†ï? 
                // ÎèÑÎ©îÏù∏ Îí§Ïóê Í≤ΩÎ°úÎäî Ïñ¥ÎñªÍ≤å Ï§òÏïº Ìï†Íπå? ‚≠ê‚≠ê‚≠ê 
                    // ÎùºÏö∞ÌÑ∞ ÏûÖÏû•ÏóêÏÑú res.json(data) Î°ú Ïó∞Í≤∞Îê† Ïàò ÏûàÎäî, Í≤ΩÎ°úÏó¨Ïïº Í≤†ÏßÄ.  
                // :id Ïù¥Î†áÍ≤å ÏûëÏÑ±ÌïòÎ©¥, Í∑∏ ÏïÑÏù¥ÎîîÍ∞Ä Ï∞çÌòÄÏÑú Î≥¥ÎÇ¥ÏßàÍπå? ‚≠ê‚≠ê‚≠ê 
                    // Î≥¥ÎÇ¥ÏßÄÎäî Í≤ÉÎì§ÏùÄ Ïñ¥Îñ§ ÏõêÎ¶¨Ïù∏Îç∞? 
                        // Í≤ΩÎ°úÏóêÏÑú place holder Ïù¥Í≥†, Ïö∞ÏÑ†, Î≥ÄÏàò Í∞ôÏùÄ Í±∞Ïïº 
                        // Ïù¥ Í∞íÎì§ÏùÄ Ïñ∏Ï†ú Ï±ÑÏõåÏ†∏? 

            // 2. data Í∞Ä Ïñ¥ÎñªÍ≤å Îì§Ïñ¥Ïò§ÎäîÏßÄ Î≥¥Í≥†, Ïñ¥Îñ§ ÏãùÏúºÎ°ú ÍΩÇÏïÑÏ§òÏïº Ìï†ÏßÄ Í≥†ÎØº 
                // controllers > exports.viewUser Î≥¥ÎãàÍπå, User ÌÖåÏù¥Î∏îÏóê ÏöîÏ≤≠ÌïòÍ≥† ÏûàÏùå. 
                // Í∑∏Îü∞Îç∞ ÏßÄÍ∏àÏùÄ Í≤åÏãúÍ∏ÄÏùÑ Î≥¥Ïó¨Ï§òÏïº ÌïòÎãàÍπå, Posts ÌÖåÏù¥Î∏îÎ°ú ÏÑ§Ï†ïÌïòÎäîÍ≤å ÎßûÏùå. 
                // Posts ÌÖåÏù¥Î∏îÏóêÏÑú ÌïÑÏöîÌïú Îç∞Ïù¥ÌÑ∞ Ïª¨ÎüºÏùÄ? (Ïù¥ ÏàúÍ∞Ñ, sql ÏùÑ ÌôïÏù∏Ìï¥Î≥¥Ïûê) 
                    // 1) foreign key Ïù∏ user_id  
                    // 2) msg 
                // Ïù¥Í±∏ Ïñ¥ÎñªÍ≤å ÌååÍ≥† Îì§Ïñ¥Ïïº ÏõêÌïòÎäî Í±∏ Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÎäîÏßÄ Î≥¥Ïûê.
                    // Ïù¥ ÏàúÍ∞Ñ, 'ÏïåÍ≥†Î¶¨Ï¶ò' Ïù¥ ÏÇ¨Ïö©Îê† Í≤É Í∞ôÎã§Îäî ÏÉùÍ∞ÅÏù¥ Îì†Îã§. 
                console.log(" üîÆüîÆüîÆ " , data)

                // ÏïÑ, ÎÇ¥Í∞Ä ÍµâÏû•Ìûà Ïò§Ìï¥ÌïúÍ≤å ÏûàÎäîÎç∞ post ÌÖåÏù¥Î∏î Ï°∞ÌöåÍ∞Ä ÏïÑÎãàÎùº, user ÌÖåÏù¥Î∏î Ï°∞ÌöåÍ∞Ä ÎßûÏùå‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 
                    // 1) User ÌÖåÏù¥Î∏îÏùò Îç∞Ïù¥ÌÑ∞Î•º Ï°∞ÌöåÌïòÍ≥† Post Ïùò Îç∞Ïù¥ÌÑ∞Î•º include Ïóê ÎÑ£Ïñ¥ÏÑú Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÎã§Îäî Í≤É 
                    // 2) Í∑∏Îü¨Î©¥, Ìï¥Îãπ id Ïóê Ìï¥ÎãπÌïòÎäî post Îç∞Ïù¥ÌÑ∞Í∞Ä record Î°ú Îì§Ïñ¥Ïò® Îã§Îäî Í≤É ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 
                    // 3) Í∑∏ÎûòÏÑú, 'Ìï¥Îãπ id Î°ú ÏûëÏÑ±Îêú Í∏ÄÏùÑ Îã§ Í∏ÅÏñ¥Ïò§Í≥† Ïã∂Îã§.' ÎùºÎ©¥, 
                        // > post table ÏóêÏÑú 1) foreignKey ÏÉùÏÑ±ÎêòÍ≤å ÌïòÍ≥† 2) ‚≠ê‚≠ê‚≠ê Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏûêÏ≤¥ÏóêÏÑú‚≠ê‚≠ê‚≠ê ÏÜéÏïÑÏÑú Í∞ÄÏ†∏Ïò®Îã§.
                        // Ï§ëÏöîÌïú Ï†êÏùÄ 
                            // a) 'Î≥¥Ïó¨Ï£ºÍ≥† Ïã∂ÏùÄ Í±¥ == Í≤åÏãúÍ∏Ä' Ïù¥ÎùºÍ≥† Ìï¥ÏÑú post ÌÖåÏù¥Î∏îÏùÑ Ìò∏Ï∂úÌïòÎ©¥ Ïïà ÎêúÎã§Îäî Í≤É 
                            // b) 'Ìï¥Îãπ id Ïóê ÏÜçÌïòÎäî Í≤åÏãúÍ∏Ä' Îßå Í∞ÄÏ†∏Ïò§Í≥† Ïã∂ÏùÄ Í≤É Ïù¥ÎØÄÎ°ú, '‚≠ê‚≠êÌïÑÌÑ∞ÎßÅ Îêú‚≠ê‚≠ê post Îç∞Ïù¥ÌÑ∞' Î•º Í∞ÄÏ†∏ÏôÄÏïº ÌïúÎã§Îäî Í≤É 
                            // Í∑∏Îü¨Î†§Î©¥, '‚≠ê‚≠ê ÌïÑÌÑ∞ÎßÅÏùò Í∏∞Ï§ÄÏù¥ ÎêòÎäî ID Í∞Ä ÏÜçÌï¥ ÏûàÎäî User ÌÖåÏù¥Î∏î' ÏùÑ Í∏∞Ï§ÄÏúºÎ°ú sql ÏùÑ Î∂ÄÎ•¥Í≥†‚≠ê‚≠ê 
                            // d) associate Ïùò Ìö®Í≥ºÎ°ú, ‚≠ê‚≠ê Îî∏Î†§Ïò§Îäî post Îç∞Ïù¥ÌÑ∞‚≠ê‚≠ê Î•º Í∞ñÏò§Î©¥, ÏûêÏó∞Ïä§ÎüΩÍ≤å, 'ÌïÑÌÑ∞ÎßÅÎêú post Îç∞Ïù¥ÌÑ∞' Í∞Ä ÎÇòÏò§Í≤å ÎêúÎã§. 
            
                // Í∑∏Îü¨Î©¥, ÌïÑÏöîÌïú Îç∞Ïù¥ÌÑ∞ Ï∞æÏïÑÎ≥¥Í∏∞ 
                    // 1) Ïú†Ï†Ä ÎÑ§ÏûÑ 
                        console.log("Ïú†Ï†Ä name : " , data.name);

                    // 2) Î©îÏãúÏßÄ 
                        console.log("Í≤åÏãúÍ∏Ä : " , data.Posts[0].msg)
                        console.log("Í≤åÏãúÍ∏Ä : " , data.Posts[1].msg)
                        console.log("Í≤åÏãúÍ∏Ä : " , data.Posts[2].msg)


            // 3. html ÌÉúÍ∑∏Ïóê innerHTML Î°ú ÍΩÇÏïÑÏ£ºÍ∏∞ (Î∞òÎ≥µÎ¨∏ Ïñ¥ÎñªÍ≤å?)
                user_name.innerHTML = data.name;
                msg_list.innerHTML = data.Posts[2].msg;
                
                // Posts.forEach((el) => {
                //     msg_list.innerHTML = el.msg                    
                // });

        } catch (error) {
            console.log(error)
        }

    }

document.addEventListener("DOMContentLoaded", function() {
    getAPI();
});


</script>

</html>
