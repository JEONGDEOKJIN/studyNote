## 리덕스 흐름 정리 ⭐⭐⭐⭐⭐



| 구분                                                    | 키워드                                                                                                                               | 설명                                                                                                | 비고                                                                                                                             |
| ------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| "김치볶음밥 주문할게요~"                                | `dispatch(action)`                                                                                                                   | 1) action 에 주문내용을 '객체' 형태로 담는다.                                                       | ✅ type 에 적는 내용은 뒤에 부분과 동일해야 한다. ex) "김치 볶음밥" 으로 띄어쓰기 오타 나면 안 됨                                |
|                                                         |                                                                                                                                      | 2) 이 action 을 dispatch 매개변수에 넣는다.                                                         |                                                                                                                                  |
|                                                         |                                                                                                                                      | '브라우저 상에서 주문' 하는 모습                                                                    | ![](https://i.imgur.com/kB3MoNU.png)                                                                                             |
|                                                         |                                                                                                                                      | 코드 상에서 `주문` 하는 순간                                                                        | ![](https://i.imgur.com/LQEnDWC.png)                                                                                             |
|                                                         |                                                                                                                                      | 지금 이 순간이, 리덕스 흐름도에서 어떤 부분을 차지?                                                 | ![](https://i.imgur.com/Uoq1PfW.png)                                                                                             |
| 주방장이 김치볶음밥을 확인하고, 레시피에 따라 조리 시작 | `switch(action.type)`                                                                                                                | 1) 주문내용은 action 객체의 type 키에 들어있음                                                      | ✅ switch 에서, 확인할 때, action 에 기재한 주문서와 오타없이 잘 맞아야 해 ex) "김치 볶음밥" 띄어쓰기 있고, 없고 가 다를 수 있어 |
|                                                         |                                                                                                                                      | 2) `switch 조건문` 을 사용해서, 해당 주문이 들어오면, 어떤 레시피를 참고해야 할지 '레시피 선택'     |                                                                                                                                  |
|                                                         | `return {...state , count : state.count + 1};`                                                                                       | 3) 레시피를 선택했으면, 조리 시작 ex) `state 의 1을 증가 시켜`                                      | ✅ 요리를 했으면, 반드시 `return` 을 해줘야 함                                                                                   |
|                                                         |                                                                                                                                      | 4) 이때, update 를 할 때는, 반드시 spread 연산자로, '복사된 값이 있는 다른 주소! 에서 수행' 해야 함 |                                                                                                                                  |
|                                                         |                                                                                                                                      | ![](https://i.imgur.com/QRFgjhH.png)                                                                |                                                                                                                                  |
| 주방장이 요리한 건, store 로 나간다.                    |                                                                                                                                      | 1) 요리 된거 가져온다.                                                                              |                                                                                                                                  |
|                                                         |                                                                                                                                      | 2) 다 요리 되었으니까, store 에 전달한다.                                                           |                                                                                                                                  |
|                                                         |                                                                                                                                      | 3) 이 과정을 'composeWithDevTools' 로 확인한다.                                                     | ![](https://i.imgur.com/uJFD2Ot.png)                                                                                             |
| store 에 나간건? view 로 가나?                          | 1)  `index.js` 에서 `import 되어서` `<Provider>` 컴포넌트에 `store={store}`  `props 로 전달` 된다.                                   |                                                                                                     | ✅ `<Provider store={store}>` 이게                                                                                               |
| 그러면, `app.js` 에서는 어디로 가?                      |                                                                                                                                      | 여기에서 부터, 어디론가 가는 건 없음. 이제, 가져다 쓰면 된다.                                       | ![](https://i.imgur.com/RyQV0OD.png)                                                                                             |
| 필요한 컴포넌트에서 가져다 쓰기                         | 1) `import { useSelector } from 'react-redux'`  이렇게 하면, 현재 update된, store 에 있는 값들에 접근할 수 있음.                     |                                                                                                     |                                     ![](https://i.imgur.com/iFcFMq7.png)
|                                                         | 2) `const count = useSelector(state => state.count)`  이렇게 하면, '지금 상태(state)에서, 요리가 완료된 count 값' 을 가져올 수 있음. |                                                                                                     | ✅ 화살표 함수 문법에서 살짝 당황함.                                                                                             |





