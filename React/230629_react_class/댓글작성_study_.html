<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

<!-- ì„¤ì¹˜ script | REACT | ReactDom | BEBEL! -->
<script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<!-- css ë¶ˆëŸ¬ì™€ -->


</head>
<body>
    

    <div id="root">

    </div>


</body>

<script type="text/babel">
    
    // 1ï¸âƒ£ 'ui ìš”ì†Œ' ë¥¼ 'React component ìƒì† ë° ì˜¤ë²„ë¼ì´ë”©' í•´ì„œ 'í´ë˜ìŠ¤' ë¡œ ë§Œë“¤ê¸°

        // â—¼ ëŒ“ê¸€ì´ ë  ì»´í¬ë„ŒíŠ¸ 
            class CommentItem extends React.Component {
                constructor(props) {
                    super(props)
                }

                render() {
                    return (
                        <ul>
                            <li> {this.props.userid} </li>
                            <li> {this.props.content} </li>
                            <li> {this.props.date} </li>
                        </ul>
                    )
                }

            }


        // â—¼ ëŒ“ê¸€ ì‘ì„± form ê·¸ë¦¬ëŠ” ì»´í¬ë„ŒíŠ¸ 
            class CommentForm extends React.Component {
                constructor(props) {
                    super(props)
                    this.state = {
                        value : " "
                    }

                    this.changeHandler = this.changeHandler.bind(this)
                    this.submitHandler = this.submitHandler.bind(this)

                }

                // ì…ë ¥ê°’ì„ ì²˜ë¦¬í•  í•¨ìˆ˜
                changeHandler(e) {
                    const { value } = e.target
                    this.setState({
                        ...this.state,
                        value
                    })
                }

                // ì…ë ¥ì„ í–ˆìœ¼ë©´, ì²˜ë¦¬í•  í•¨ìˆ˜
                submitHandler(e) {
                    e.preventDefault();

                    this.props.create(this.state.value)

                    this.setState( {value : ""} )
                }

                render() {
                    return (
                        <li>
                            <form onSubmit = {this.submitHandler} >
                                <h4> ëŒ“ê¸€ ì‘ì„± <span> : {this.props.lenhth} </span> </h4>
                                <span>
                                    <input type="text" onChange = {this.changeHandler} value = {this.state.value} />
                                </span>
                                <input type="submit"  value="ë“±ë¡" />
                            </form>
                        </li>
                    )
                }


            }


        // â—¼ ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ ë°›ì•„ì„œ ê·¸ë¦¬ëŠ” ì»´í¬ë„ŒíŠ¸ 
            class CommentList extends React.Component {

                constructor(props) {
                    super(props)
                }

                loop(value, index) {
                    return <CommentItem key = {index} userid = {value.userid} content = {value.content} date={value.date} />
                }

                render() {
                    return <li> {this.props.items.map(this.loop)} </li>
                }

            }

        // â—¼ ëŒ“ê¸€ ê¸°ëŠ¥ ë‹´ë‹¹í•  ì»´í¬ë„ŒíŠ¸ 
            class Comment extends React.Component {

                constructor(props) {
                    super(props)
                    this.state = {
                        comment : [

                            {
                                userid : "dj", 
                                content : "ì²«ë²ˆì§¸ ëŒ“ê¸€", 
                                date : "2023-06-29",
                            },
                            {
                                userid : "dj", 
                                content : "2ë²ˆì§¸ ëŒ“ê¸€", 
                                date : "2023-06-29",
                            },
                            {
                                userid : "dj", 
                                content : "3ë²ˆì§¸ ëŒ“ê¸€", 
                                date : "2023-06-29",
                            },
                        ]
                    }
            
            // ë°”ì¸ë”© 
                // [ì•Œê²Œëœ ê²ƒğŸ‘]
                    // íŠ¹ì • ì½œë°±í•¨ìˆ˜, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ ê²½ìš°, this ê°€ ì „ì—­ê°ì²´ í˜¹ì€ undefined ë¥¼ ê°€ë¦¬í‚¤ê²Œ ë˜ëŠ” ê²½ìš°ê°€ ìˆìŒ. 
                    // ê·¸ ìƒíƒœë¡œ ë†”ë‘ë©´, í•´ë‹¹ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” ì›í•˜ëŠ” ê°ì²´ì˜ setState ê°’ ë“±ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŒ.
                    // ë”°ë¼ì„œ, í•´ë‹¹ â­'ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë˜ëŠ” ì½œë°±í•¨ìˆ˜'â­ ê°€ ì›í•˜ëŠ” íƒ€ê²Ÿì— ì ‘ê·¼í•˜ê¸° ìœ„í•´, ì•ˆì „í•˜ê²Œ ë°”ì¸ë”©, ì„ í•´ì¤€ë‹¤. 

                this.create = this.create.bind(this);
                    // [ê¶ê¸ˆí•œ ê²ƒ]
                        // ë°”ì¸ë”©ì„ ì–´ë–¤ ê²ƒì— ëŒ€í•´ í•´ì•¼ í•˜ëŠ”ì§€ 
                        // ë°”ì¸ë”© ë¬¸ë²•! 
            }

            // ìƒˆë¡œìš´ ëŒ“ê¸€ì„ ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜ | ê·¸ë¦´ ë°ì´í„° ì—…ë°ì´íŠ¸ í•˜ê¸° 
            create(content) {

                this.setState( {comment : [{userid : "dj" , content, date : "2023/06/29"} , ...this.state.comment ]})
            }
                // [ìƒê°í•´ë³¼ ê²ƒğŸ‘]
                    // ì´ ë©”ì†Œë“œì—ëŠ” this ê°€ ë“¤ì–´ê°”ë‹¤ -> ê·¸ë˜ì„œ, ë°”ì¸ë”©ì„ í•´ì¤¬ë‹¤. 
                    // ê·¸ëŸ¬ë©´, this ê°€ ë“¤ì–´ê°€ëŠ” ëª¨ë“  ë©”ì†Œë“œì—ëŠ” ë°”ì¸ë”©ì„ í•´ì¤˜ì•¼ í•˜ë‚˜? â“â“â“

                // [ê¶ê¸ˆì¦] â“â“â“
                    // ê·¼ë°, ê·¸ëƒ¥, ì € ì´ë¦„ì´, ë©ê·¸ëŸ¬ë‹ˆ í•©ì³ì ¸?
                    // ëˆ„ê°€ ì´ë¦„ì„ ì ê±°ë‚˜, ì“°ëŠ”ê±° ì—†ì´? 

            // ê·¸ë ¤ì£¼ê¸° 
            render() {
                return (
                    <ul>
                        {/* ëŒ“ê¸€ ì‘ì„± í¼*/}
                        <CommentForm create = {this.create}  length = {this.state.comment.length} />
                    
                        { /* ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ ë³´ì—¬ì¤„ ê³³*/ }
                        <CommentList items = {this.state.comment} />
                    </ul>
                )
            }
            // [ìƒê°í•´ë³¼ ê²ƒğŸ‘]
                // CommentForm í¼ ìì²´ëŠ” ìƒˆë¡œìš´ ê²ƒ ê°™ì€ë° âœ…
                

        
        }   



        // â—¼ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ | App í´ë˜ìŠ¤  
            // App í´ë˜ìŠ¤ ê¸°ëŠ¥ ìš”ì•½
                // 1) ëŒ“ê¸€ì´ ê·¸ë ¤ì§€ëŠ” ì˜ì—­
            // requirement 
                // 1) ì˜ì—­ì— ê·¸ë ¤ì§ˆ ëŒ“ê¸€ ë‚´ìš©ë“¤

            class App extends React.Component {

                render() {
                    return (
                        <div>

                            <Comment />
                            {/* [ì½”ë“œ ì½ê¸°] 
                                ì´ë ‡ê²Œ ì‘ì„±í•˜ë©´, Comment í´ë˜ìŠ¤ë¥¼ ì´ê³³ì—ì„œ ì‹¤í–‰í•œë‹¤. ëŠ” ë§. 

                                [ì•Œê²Œëœ ê²ƒğŸ‘]
                                    // ì´ ê³¼ì •ì˜ ëª©í‘œëŠ” ê²°êµ­, HTML ì„ ì¡°ì‘í•˜ëŠ” ê²ƒ 
                                    // ì´ë¥¼ ìœ„í•´ ì§ì ‘ JS ë¡œ DOM ì„ ì¡°ì‘í•˜ëŠ” ë°©ì‹ì—ì„œ 
                                    // ReactDOM ì¡°ì‘, ì´ë¼ëŠ” ê°€ìƒ DOM ì¡°ì‘ ë°©ì‹ì„ íƒí•œ ê²ƒ
                                    // ë³¸ì§ˆì€ 'HTML ì¡°ì‘' ì´ë¯€ë¡œ, 'í´ë˜ìŠ¤ê°€ ì‹¤í–‰ëœ ê²°ê³¼ë¬¼ì´ html íƒœê·¸' ì¸ ê²ƒì— ë†€ë¼ì§€ ë§ ê²ƒâ­â­

                            */}
                        </div>
                    )
                }
                
                // [í•´ì„]
                    // ì•„ë§ˆë„, ì¶”ê°€ë˜ëŠ” html ìš”ì†Œê°€ ì—†ìœ¼ë¯€ë¡œ, ìƒì„±ì í•¨ìˆ˜ëŠ” ì—†ì–´ë„ ë˜ëŠ”?
            }


    // 2ï¸âƒ£ 'jsx ë¬¸ë²•' ìœ¼ë¡œ, ìœ„ì—ì„œ ì •ì˜ëœ class ë¥¼ ì‹¤í–‰, ì‹œì¼œì„œ, ê°€ìƒ DOM ì— ë„£ì–´ì£¼ê¸°
    // 1) div ë¥¼, 'ê°€ìƒ DOM ì´ ë“¤ì–´ê°ˆ ê³µê°„' ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ê¸° 
        const root = ReactDOM.createRoot(document.querySelector("#root"))

    // 2) ê°€ìƒ DOM ì— ë„£ì–´ì£¼ê¸°
        root.render(<App />);




</script>



</html>