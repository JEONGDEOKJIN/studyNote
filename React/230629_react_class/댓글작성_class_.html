<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

<!-- ì„¤ì¹˜ script | REACT | ReactDom | BEBEL! -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<!-- css ë¶ˆëŸ¬ì™€ -->


</head>
<body>

    <!-- ë¦¬ì•¡íŠ¸ë¡œ ê²Œì‹œíŒ ë§Œë“¤ê¸° -->
        <!-- âœ…ìƒˆë¡œìš´ê±° ë°°ì› ì„ ë•Œ, ë¡œê·¸ì¸ &ã…£ ê²Œì‹œíŒ! ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©´ ë¨. -->

    <div id="root">

    </div>
    
</body>

<script type="text/babel">

    // ëŒ“ê¸€ì´ ë  ì»´í¬ë„ŒíŠ¸ 
    // props ê°’ì„ ë°›ì•„ì„œ ëŒ“ê¸€ì„ ë§Œë“¤ì–´ì¤„ ì»´í¬ë„ŒíŠ¸

    class CommentItem extends React.Component {
        constructor(props){
            super(props) 

            // props = { userid : "ì‘ì„±ì" , content : "ë‚´ìš©" , date : "ë‚ ì§œ" }
        }

        render() {
            return(
                // react DOM ì—ì„œëŠ” HTML ì—ì„œ ì‚¬ìš©í•˜ë˜ class ê°€ ì•„ë‹Œ className ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
                // class ë¡œ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, ê²½ê³ ë¬¸ì´ ëœ¨ê²Œ ë  ê²ƒ 
                <ul className ="" >
                    <li> {this.props.userid} </li>
                    <li> {this.props.content} </li>
                    <li> {this.props.date} </li>
                </ul>
            )
        }
    }
    
    // ëŒ“ê¸€ ì‘ì„± form ê·¸ë¦¬ëŠ” ì»´í¬ë„ŒíŠ¸
        class CommentForm extends React.Component {
            constructor (props) {
                super(props)
                this.state = {
                    // form ì—ì„œ ë³´ë‚¼ ê°’
                    // input ì— ì…ë ¥ê°’ì„ ìƒíƒœê°’ valueì— ë„£ì–´ì¤„ ê²ƒ ì„. 
                    value : " "
                }
                    // ì…ë ¥í•œ ê°’ì„ ìƒíƒœê°’ìœ¼ë¡œ ë“¤ê³  ìˆë‹¤ê°€ ë³´ë‚¼ ê²ƒ ì„

                // ë°”ì¸ë”© í•´ì£¼ê¸° | this ë¥¼ ì“°ê¸° ë•Œë¬¸ì—! 
                this.changeHandler = this.changeHandler.bind(this)
                this.submitHandler = this.submitHandler.bind(this)
                
            }

            // ì…ë ¥ê°’ì„ ì²˜ë¦¬í•  í•¨ìˆ˜
            changeHandler(e) {
                // input ì˜ value ë¥¼ êµ¬ì¡°ë¶„í•´í• ë‹¹! ìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤.
                const { value } = e.target
                this.setState({
                    ...this.state, 
                    value
                })
            }

            // ì…ë ¥ì„ í–ˆìœ¼ë©´, ì…ë ¥ì„ ì²˜ë¦¬í•  í•¨ìˆ˜
            submitHandler(e) {
                // ìƒˆë¡œê³ ì¹¨ë˜ëŠ” ì´ë²¤íŠ¸ ë§‰ê³ 
                e.preventDefault();

                // ëŒ“ê¸€ ì¶”ê°€í•´ì¤„ ê³³ 
                    this.props.create(this.state.value)

                // ì—¬ê¸°ì—ì„œ ì‘ì„±í•œ ëŒ“ê¸€ì„ ì¶”ê°€í•´ì¤€ë‹¤. | ê·¸ë˜ì„œ ë¹ˆê°’ìœ¼ë¡œ ë†“ëŠ”ë‹¤. | ì¶”ê°€ê°€ ë˜ë©´, ë‹¤ì‹œ ìƒíƒœê°’ì´ ì´ˆê¸°í™” ëœë‹¤. 
                this.setState( {value : ""} )

            }

            render() {
                return(
                    <li> 
                        <form onSubmit = {this.submitHandler} > 
                            <h4> ëŒ“ê¸€ ì‘ì„±  <span> : {this.props.length} </span> </h4>
                            <span> 
                                <input type="text" onChange = {this.changeHandler} value={this.state.value} />
                            </span>
                            <input type="submit"  value="ë“±ë¡" />
                            
                        </form>
                    </li>
                )
            }

        }


        // ëŒ“ê¸€ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°›ì•„ì„œ, ê·¸ë ¤ì¤„ ì»´í¬ë„ŒíŠ¸ 
        class CommentList extends React.Component {
            constructor(props) {
                super(props)
            }

            loop(value, index) {
                // ì—¬ê¸°ì—ì„œ êµ¬ì¡°ë¶„í•´í• ë‹¹ ë°›ì•„ì„œ í•´ë„ ë¨âœ…
                return <CommentItem key={index} userid={value.userid} content={value.content} date={value.date} /> 
            }
            // CommentItem ì´ê±´ ë¶€ëª¨ì—ê²Œì„œ ê°’ì„ ë°›ì•„ì„œ ì‚¬ìš©í•˜ê²Œ ë  ë†ˆì„. 

            render() {
                return <li> {this.props.items.map(this.loop)} </li>
            }
            // ì—¬ëŸ¬ê°œë¥¼ props ë¡œ ë°›ì„ ê±°ì•¼. 
            // key ë¡œ index ë¥¼ ì¤€ë‹¤. 
            // key ëŠ” í•„ìˆ˜ëŠ” ì•„ë‹Œë°, 'ì„±ëŠ¥ì´ ì¢‹ì•„ì§„ë‹¤ê³ í•¨'
            // key ëŠ” react ê°€ ìš”ì†Œë¥¼ ì‹ë³„í•  ë•Œ, ì”€. | ì—†ì–´ì§€ê±°ë‚˜, ìƒì„±ë˜ê±°ë‚˜ í•  ë•Œ, ì‚¬ìš© | ì„±ëŠ¥ì´ ì¢‹ì•„ì§ 
            // ë‹¤ë§Œ, index ë¡œ ì „ë‹¬í•˜ëŠ”ê²Œ ì¢‹ì€ ë°©ë²•ì€ ì•„ë‹˜ | ë‹¤ë§Œ, ìƒê´€ì€ ì—†ìŒ. 
            // ê·¸ëŸ¬ë©´, key ë¡œ í•˜ë ¤ë©´? 

        }



        // ëŒ“ê¸€ ê¸°ëŠ¥ ë‹´ë‹¹í•  ì»´í¬ë„ŒíŠ¸
            class Comment extends React.Component {

                constructor(props) {
                    super(props)
                    this.state = {
                        comment : [
                            // ì¶”ê°€í•œ ìƒˆê¸€

                            { 
                                userid : "dj", 
                                content : "ëŒ“ê¸€ ì•ˆë…•", 
                                date : "2023-06-29",
                            }, 
                            {
                                userid : "dj", 
                                content : "ëŒ“ê¸€2 ì•ˆë…•", 
                                date : "2023-06-29",
                            }, 
                            {
                                userid : "dj", 
                                content : "ëŒ“ê¸€3 ì•ˆë…•", 
                                date : "2023-06-29",
                            }
                        ]
                    }

                    this.create = this.create.bind(this);
                        // create ë¥¼ ë„˜ê²¨ì„œ, ì“¸ ìˆ˜ ìˆìŒ. 
                }

                // ìƒˆë¡œìš´ ëŒ“ê¸€ì„ ì¶”ê°€ í•´ì£¼ëŠ” í•¨ìˆ˜
                create(content) {

                    // this ê°€ ë“¤ì–´ê°€ê¸° ë•Œë¬¸ì—, context ê°€ ë  ìˆ˜ ìˆê²Œ, ë°”ì¸ë“œë¥¼ ì‚¬ìš© 
                    // ğŸ‘‰ constructor ì•„ë˜ì—! 
                    this.setState({ comment : [{ userid : "soon" , content, date : "2023/06/29"}, ...this.state.comment  ] })

                }

                // ëŒ“ê¸€ì´ ì‘ì„±ëœ ë¦¬ìŠ¤íŠ¸ë¥¼ ê·¸ë ¤ì¤„ ê²ƒ ì„
                render() {
                    return(
                        <ul>
                            { /* ëŒ“ê¸€ ì‘ì„± í¼ */ }
                            <CommentForm create={this.create} length={this.state.comment.length} />
                            
                            { /* ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤„ ê³³ */ }
                            <CommentList items={this.state.comment}  />
                        </ul>
                            // props ë¡œ ì‚¬ìš©í•  ê°’ (ê¸¸ì´) ë¥¼ ì „ë‹¬í•´ì¤˜ì•¼ í•¨
                            // props ë¥¼ items ë¡œ ë°›ì•˜ìŒ 

                            // í•¨ìˆ˜ë„ ë„˜ê²¨ì„œ, ì‚¬ìš©í•´ë³¼ ê²ƒ ì„ 
                    )
                }

            }


            // í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ 
                class App extends React.Component {
                    render() {
                        return (
                            <div>
                                {/* ëŒ“ê¸€ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ ê°€ì ¸ì˜´ | ì´ë ‡ê²Œ í•˜ë‚˜ë¥¼ ë§Œë“¤ë©´, ë‹¤ë¥¸ ê³³ì— ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ìœ¼ë©´ ë¼ â­â­â­â­â­ */}
                                <Comment />
                                <Comment />
                                <Comment />
                                <Comment />
                                <Comment />
                                <Comment />

                            </div>
                        )
                    }
                }


        // root ì— ê·¸ë ¤ì£¼ê¸° 
            const root = ReactDOM.createRoot(document.querySelector("#root"));
            root.render(<App />);


            // ëŒ“ê¸€ì°½ ì—¬ëŸ¬ê°œ í•´ì•¼ í•¨ | ë°ì´í„° ë”°ë¡œ 


    // ê³¼ì œ í¬ì¸íŠ¸ â­â­â­â­â­
        // ìƒíƒœê´€ë¦¬ í•˜ëŠ”ê±° 
        // props ì†ì„± ê°’ ê´€ë¦¬ 
        // ì»´í¬ë„ŒíŠ¸ë¥¼ ìµœì†Œë‹¨ìœ„ê¹Œì§€ ìª¼ê°œë³´ì







</script>




</html>