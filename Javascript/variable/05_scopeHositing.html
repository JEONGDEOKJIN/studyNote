<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>

var x = 'global'

function foo() {

    console.log(x)
    var x = 'local'
}

foo()
console.log(x)


    /*
        1. 전역 평가 
         GLE : { 
            record : { 
                x : undefiend, 
                foo : { 함수 객체 }, 
            }
        }

        2. 전역 실행 
        3. foo () 실행 -> 제어권이 foo 함수로 이동 (❓ 제어권이 foo 함수로 이동 맞나?) -> function 키워드 만났으므로, 별도의 실행 컨텍스트 생성 -> so, 별도의 렉시컬 환경 생성 -> 렉시컬 환경 채우기 위한 평가 시작 
        4.  foo 함수 내부 평가 
                foo.L.E = { 
                    x : undefined
                }
        5. console.log 실행 
                - console 식별자 검색 👉 타고 타고 가니, 전역 객체에 있음 ⭐⭐⭐⭐⭐ 이러한 원리로, 다른 web api 에서 제공되는 거는, web api 로 넘기는 구나  
                - x 식별자 검색 : 'local' 이 foo 함수 안에서 호이스팅 됨 -> so, local 이 찍혀 나옴 

        6. 포인트는 
            1) 함수라고 해도, 식별자 검색을 하게 된다는 것 ⭐⭐⭐⭐⭐⭐⭐ 그래서, 위로 타고 올라간다는 것 ⭐⭐⭐⭐⭐⭐ (이건 실행 컨텍스트 교재에 나와있던 내용 같음)
            2) 그러면, web api 에서 내장하고 있는 함수를 web api 에게 실행 제어권을 넘기게 된다는 것 
            3) '호이스팅은 스코프 단위' 로 작동한다는 것. 왜냐면, 스코프 단위로 평가가 이루어지고, 평가 할 때, 선언문을 한번 실행하기 때문 (출처 : 모던 자바스크립트 p202)
    */

</script>
</html>