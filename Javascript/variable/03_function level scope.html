<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>



    var x = 1;   // 함수 레벨 스코프 형성 -> 아래의 블록은 추가적인 렉시컬 환경을 생성하지 않음
    if(true){
        var x = 10;   // [판단 흐름⭐⭐] var 키워드로 변수 선언이 있음 -> var키워드는 함수레벨 스코프을 사용 -> 별도의 스코프(렉시컬 환경) 을 생성하지 않음 -> var x = 1 와 동일 스코프(렉시컬 환경 사용)
                            // -> so, x 변수는, 재선언(새로운 메모리 공간) -> 재할당 -> x 식별자에는 10이 할당됨. 
    }
    console.log("x" , x)   // 10


    // let y = 1;   // 블록 레벨 스코프 형성 -> 아래 블록은 추가 렉시컬 환경을 생성 해야 한다고 생각함. 
    // if(true){
    //     var y = 10;  // [판단 흐름⭐⭐] var 키워드로 변수 선언이 있음 -> var키워드는 함수레벨 스코프을 사용 -> 별도의 스코프(렉시컬 환경) 을 생성하지 않음 -> var y = 1 와 동일 스코프(렉시컬 환경 사용)
    //                     // 이미 let 키워드로 y 를 선언했기 때문에, 재선언 할 수 없음! | redeclare block-scoped variable 'y' 
    // }
    // console.log("y" , y) 
    
    
    let z = 1;   // 블록 레벨 스코프 형성 -> 아래 블록은 추가 렉시컬 환경을 생성 해야 한다고 생각함. 
    if(true){
        z = 20;  // [판단 흐름⭐⭐] var 키워드로 변수 선언이 없음 -> 별도의 스코프(렉시컬 환경) 을 생성하지 않음 -> var x = 1 와 동일 스코프(렉시컬 환경 사용)
                    // z 변수에 20 이라는 값을 추가로 바인딩 하는 것 임  
    }
    console.log("z" , z) // 20


    let a = 1;   // 블록 레벨 스코프 형성 -> 아래 블록은 추가 렉시컬 환경을 생성 해야 한다고 생각함. 
    if(true){
        let a = 30;  // [판단 흐름⭐⭐] let 키워드로 변수 선언이 있음 -> let 키워드는 블록 레벨 스코프을 사용 -> 별도의 스코프(렉시컬 환경) 을 생성 -> let a = 1 와 별도 스코프(렉시컬 환경 사용)
                        // 별도의 렉시컬 환경에서, z 는 20 임 
    }
    console.log("a" , a)  // 1

    /* 시사점 
        1. 변수 선언 키워드가 있어야, 새롭게 변수를 선언하고, 그에 따라 스코프(렉시컬 환경) 이 생성되는 것 
        2. 이슈가 되는 식별자가, 상위 스코프와 동일한 스코프를 사용하는지, 별도의 스코프를 구성하는지! 를 판단하는 게 필요함 -> 이게 '판단 흐름' 에 녹아있음. 
    */ 


</script>
</html>